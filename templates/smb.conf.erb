# Samba configuration.  Managed by Puppet
#
#======================= Global Settings =====================================

[global]

# ----------------------- Network Related Options -------------------------

workgroup = <%= @global_workgroup %>
server string = Samba Server Version %v
<% if !interfaces.empty? -%>
interfaces = lo eth0 <%= @interfaces.join(' ') %>
<% end -%>
<% if !hosts_allow.empty? -%>
hosts allow = <%= @hosts_allow.join(' ') %>
<% end -%>

# Winbind options
<% if @workgroup -%>
  workgroup = <%= @workgroup %>
<% end -%>
<% if @passwd_server -%>
  password server = <%= @passwd_server %>
<% end -%>
<% if @realm -%>
  realm = <%= @realm %>
<% end -%>
<% if @security -%>
  security = <%= @security %>
<% end -%>
<% if @idmap_uid -%>
  idmap uid = <%= @idmap_uid %>
<% end -%>
<% if @idmap_gid -%>
  idmap gid = <%= @idmap_gid %>
<% end -%>
<%if @separator -%>
  winbind separator = <%= @separator %>
<% end -%>
<%if @template_shell -%>
  template shell = <%= @template_shell %>
<% end -%>
<% if @use_default_domain -%>
  winbind use default domain = <%= @use_default_domain %>
<% end -%>
<% if @offline_login -%>
  winbind offline logon = <%= @offline_login %>
<% end -%>

# --------------------------- Logging Options -----------------------------

  log file = <%= @logdir %>/log.%m
  # max 50KB per log file, then rotate
  max log size = 50

# ----------------------- Standalone Server Options ------------------------

security = user
passdb backend = tdbsam

# ----------------------- Domain Controller Options ------------------------

# ----------------------- Browser Control Options ----------------------------

local master = no
os level = 33
preferred master = yes

#----------------------------- Name Resolution -------------------------------

wins support = yes
wins server = w.x.y.z
wins proxy = yes
dns proxy = yes

# --------------------------- Printing Options -----------------------------

load printers = yes
cups options = raw

# --------------------------- Filesystem Options ---------------------------

#============================ Share Definitions ==============================

